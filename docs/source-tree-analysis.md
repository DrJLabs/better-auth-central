# Source Tree Analysis

```
.
├── bmad/                     # BMAD workflow engines and templates
├── dist/                     # Compiled JavaScript output (generated by build)
├── docs/                     # Generated documentation and workflow state
├── node_modules/             # Installed dependencies (pnpm)
├── scripts/
│   ├── check-discovery.mjs   # Smoke test for discovery metadata
│   └── __tests__/            # Script-specific tests (if any)
├── src/
│   ├── auth.ts               # Better Auth initialization and plugin wiring
│   ├── server.ts             # Express app factory and route registration
│   └── __tests__/
│       ├── README.md         # Guidance for running tests
│       └── server.test.mjs   # Endpoint and escaping coverage
├── package.json              # Project metadata + scripts
├── pnpm-lock.yaml            # Dependency lockfile
├── tsconfig.json             # TypeScript compiler configuration
└── README.md                 # Top-level project introduction
```

## Critical Paths

- `src/server.ts` defines `createApp()` and registers all HTTP routes.
- `src/auth.ts` configures Better Auth database, plugins, and secrets.
- `scripts/check-discovery.mjs` can be used in CI to verify discovery endpoints.

## Build Outputs

- Running `pnpm build` creates `.js` artefacts under `dist/`.
- Tests import compiled output from `dist/server.js` to avoid ts-node in production tests.
